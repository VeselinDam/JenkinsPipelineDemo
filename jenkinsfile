properties([
    parameters([
        [$class: 'ChoiceParameter',
                choiceType: 'PT_SINGLE_SELECT',
                description: 'Select portal to run tests on.', filterLength: 1, filterable: false,
                name: 'portal',
                randomName: 'choice-parameter-105691423469221',
                script: [$class: 'GroovyScript', fallbackScript: [classpath: [], oldScript: '', sandbox: false, script: ''],
                script: [classpath: [], oldScript: '', sandbox: true,
                script: 'return[\'novas\',\'n1:disabled\',\'sk:disabled\']']]],
        [$class: 'CascadeChoiceParameter', choiceType: 'PT_SINGLE_SELECT',
                description: 'Portal environment URL for testing. (f.e. https://n1.int-green.ug.cdn.united.cloud/)', filterLength: 1, filterable: false,
                name: 'environment', randomName: 'choice-parameter-105691447976333',
                referencedParameters: 'portal',
                script: [$class: 'GroovyScript', fallbackScript: [classpath: [], oldScript: '', sandbox: false, script: ''], script: [classpath: [], oldScript: '', sandbox: true,
                script: '''if(portal.equals(\'novas\')){
                                return[\'https://novas.int-green.ug.cdn.united.cloud/\',
                                \'https://novas.int-blue.ug.cdn.united.cloud/\']
                        }''']
                ]],
        string(
                description: 'Branch for Tests project to checkout.',
                name: 'branch'
                ),
        choice(
                choices: ['Chrome', 'Firefox'],
                description: 'select browser',
                name: 'browser'
                ),
        choice(
                choices: ['excluded'],
                description: 'Exclude test group from run.',
                name: 'excludeGroups'
                ),
        string(
                defaultValue: 'master',
                description: 'Add test group/s to run. (webSmoke, master, header, promotionBanners, etc.)',
                name: 'includeGroups'),
                string(
                defaultValue: 'master',
                description: 'Add test group/s to run. (webSmoke, master, header, promotionBanners, etc.)',
                name: 'includeGroups22')
                ])
            ])
node{
    stage("DEV ENV"){
        if("${params.portal}" == "N1"){
            echo 'trenutno nije moguce pokrenuti testove na ovom portalu.'
                // currentBuild.result = "FAILURE"
                // stage.result = 'FAILURE'
        }
    }
}
